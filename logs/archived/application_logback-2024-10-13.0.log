2024-10-13 00:11:26 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 00:11:26 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 00:11:26 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 00:11:26 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=ea9ea9c6-1df2-98ea-495f-e133e7b690c9, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:75)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 00:11:26 [SpringApplicationShutdownHook] INFO  : Session closing: ea9ea9c6-1df2-98ea-495f-e133e7b690c9 - reason: The web application is stopping
2024-10-13 00:11:26 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=707cb5d4-1379-1a21-ec13-ec43be43c255, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:75)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 00:11:26 [SpringApplicationShutdownHook] INFO  : Session closing: 707cb5d4-1379-1a21-ec13-ec43be43c255 - reason: The web application is stopping
2024-10-13 16:15:02 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 16:15:02 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 16948 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 16:15:02 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 16:15:02 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 16:15:02 [main] INFO  : Finished Spring Data repository scanning in 118 ms. Found 4 JPA repository interfaces.
2024-10-13 16:15:03 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 16:15:03 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 16:15:03 [main] INFO  : Starting service [Tomcat]
2024-10-13 16:15:03 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 16:15:03 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 16:15:03 [main] INFO  : Root WebApplicationContext: initialization completed in 1388 ms
2024-10-13 16:15:03 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 16:15:03 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 16:15:03 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 16:15:03 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 16:15:04 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 16:15:04 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 16:15:04 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a9ef32e
2024-10-13 16:15:04 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 16:15:04 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 16:15:04 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 16:15:05 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 16:15:05 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 16:15:05 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 16:15:05 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 16:15:06 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 16:15:06 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 16:15:06 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 16:15:06 [main] INFO  : Started ShoppingListServiceApplication in 4.462 seconds (process running for 5.931)
2024-10-13 16:15:06 [RMI TCP Connection(4)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 16:15:06 [RMI TCP Connection(4)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 16:15:06 [RMI TCP Connection(4)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 16:16:17 [tomcat-handler-4] INFO  : New session connected: 9d9aeb58-927b-73a4-f042-b1381ec69402, user: Jerzynki
2024-10-13 16:16:17 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 16:16:17 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/Jerzynki/pip"}}
2024-10-13 16:16:17 [tomcat-handler-7] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData"}}
2024-10-13 16:16:17 [tomcat-handler-8] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"DEST":"/synchronizeData","BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","ID":"9d9aeb58-927b-73a4-f042-b1381ec69402"}}
2024-10-13 16:16:28 [tomcat-handler-9] INFO  : Session closing: 9d9aeb58-927b-73a4-f042-b1381ec69402 - reason: Unable to unwrap data, invalid status [CLOSED]
2024-10-13 16:17:45 [tomcat-handler-15] INFO  : New session connected: 5d67a9fe-21de-dbf5-5d39-6ef6cd3a494e, user: Jerzynki
2024-10-13 16:17:45 [tomcat-handler-16] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 16:17:46 [tomcat-handler-17] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/Jerzynki/pip"}}
2024-10-13 16:17:46 [tomcat-handler-18] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData"}}
2024-10-13 16:18:13 [tomcat-handler-19] INFO  : Session closing: 5d67a9fe-21de-dbf5-5d39-6ef6cd3a494e - reason: Unable to unwrap data, invalid status [CLOSED]
2024-10-13 16:18:19 [tomcat-handler-25] INFO  : New session connected: a53569a5-3654-1140-f273-e79cbe5be572, user: Jerzynki
2024-10-13 16:18:35 [tomcat-handler-26] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 16:18:53 [tomcat-handler-27] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/Jerzynki/pip"}}
2024-10-13 16:19:30 [HikariPool-1 housekeeper] WARN  : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=55s213ms790µs800ns).
2024-10-13 16:19:30 [tomcat-handler-27] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData"}}
2024-10-13 16:19:31 [tomcat-handler-27] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","ID":"a53569a5-3654-1140-f273-e79cbe5be572","DEST":"/synchronizeData"}}
2024-10-13 16:19:31 [tomcat-handler-27] ERROR : Closing session due to exception for StandardWebSocketSession[id=a53569a5-3654-1140-f273-e79cbe5be572, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textPartialStart(WsRemoteEndpointImplBase.java:1215)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:222)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:111)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:324)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.controller.websocetcontroller.WebSocketUtilController.synchronizeData(WebSocketUtilController.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at pl.kamjer.shoppinglistservice.config.websocket.BeanInspector.findControllerMethodAndCall(BeanInspector.java:43)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleMessage(ConnectionBroker.java:34)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:42)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 16:19:31 [tomcat-handler-27] INFO  : Session closing: a53569a5-3654-1140-f273-e79cbe5be572 - reason: Nawiązane połączenie zostało przerwane przez oprogramowanie zainstalowane w komputerze-hoście
2024-10-13 16:19:31 [tomcat-handler-27] ERROR : Closing session due to exception for StandardWebSocketSession[id=a53569a5-3654-1140-f273-e79cbe5be572, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The WebSocket session [2] has been closed and no method (apart from close()) may be called on a closed session
	at org.apache.tomcat.websocket.WsSession.checkState(WsSession.java:1054)
	at org.apache.tomcat.websocket.WsSession.getBasicRemote(WsSession.java:531)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:111)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:48)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 16:19:31 [tomcat-handler-27] ERROR : Closing session due to exception for StandardWebSocketSession[id=a53569a5-3654-1140-f273-e79cbe5be572, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The WebSocket session [2] has been closed and no method (apart from close()) may be called on a closed session
	at org.apache.tomcat.websocket.WsSession.checkState(WsSession.java:1054)
	at org.apache.tomcat.websocket.WsSession.getBasicRemote(WsSession.java:531)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:111)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.onError(WsHttpUpgradeHandler.java:234)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:156)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 16:24:59 [tomcat-handler-33] INFO  : New session connected: b69e0877-872e-c7b5-6ce9-4ad49df21b43, user: Jerzynki
2024-10-13 16:25:06 [tomcat-handler-34] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 16:25:17 [tomcat-handler-35] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip"}}
2024-10-13 16:25:31 [tomcat-handler-35] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData"}}
2024-10-13 16:25:43 [tomcat-handler-35] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","ID":"b69e0877-872e-c7b5-6ce9-4ad49df21b43","DEST":"/synchronizeData"}}
2024-10-13 16:26:03 [tomcat-handler-36] INFO  : Session closing: b69e0877-872e-c7b5-6ce9-4ad49df21b43 - reason: Unable to unwrap data, invalid status [CLOSED]
2024-10-13 16:26:44 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 16:26:44 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 16:26:44 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 16:26:48 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 16:26:48 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 12564 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 16:26:48 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 16:26:49 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 16:26:49 [main] INFO  : Finished Spring Data repository scanning in 85 ms. Found 4 JPA repository interfaces.
2024-10-13 16:26:49 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 16:26:49 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 16:26:49 [main] INFO  : Starting service [Tomcat]
2024-10-13 16:26:49 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 16:26:50 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 16:26:50 [main] INFO  : Root WebApplicationContext: initialization completed in 1152 ms
2024-10-13 16:26:50 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 16:26:50 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 16:26:50 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 16:26:50 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 16:26:50 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 16:26:50 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 16:26:50 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5f14590c
2024-10-13 16:26:50 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 16:26:50 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 16:26:51 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 16:26:51 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 16:26:51 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 16:26:51 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 16:26:51 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 16:26:52 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 16:26:52 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 16:26:52 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 16:26:52 [main] INFO  : Started ShoppingListServiceApplication in 3.829 seconds (process running for 4.233)
2024-10-13 16:26:52 [RMI TCP Connection(4)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 16:26:52 [RMI TCP Connection(4)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 16:26:52 [RMI TCP Connection(4)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 16:27:32 [tomcat-handler-4] INFO  : New session connected: bcbb5ef0-0c27-4c5c-dde5-82399bfcea2d, user: Jerzynki
2024-10-13 16:27:32 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 16:27:32 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip"}}
2024-10-13 16:27:51 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData"}}
2024-10-13 16:27:51 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"bcbb5ef0-0c27-4c5c-dde5-82399bfcea2d","BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","DEST":"/synchronizeData"}}
2024-10-13 16:27:51 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 16:27:51 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 16:27:51 [tomcat-handler-6] ERROR : Closing session due to exception for StandardWebSocketSession[id=bcbb5ef0-0c27-4c5c-dde5-82399bfcea2d, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textPartialStart(WsRemoteEndpointImplBase.java:1215)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:222)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:110)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:324)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:110)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:48)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 16:27:51 [tomcat-handler-6] INFO  : Session closing: bcbb5ef0-0c27-4c5c-dde5-82399bfcea2d - reason: null
2024-10-13 16:27:51 [tomcat-handler-6] ERROR : Closing session due to exception for StandardWebSocketSession[id=bcbb5ef0-0c27-4c5c-dde5-82399bfcea2d, uri=wss://192.168.0.13/ws]
java.io.IOException: java.nio.channels.ClosedChannelException
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:110)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:48)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
Caused by: java.nio.channels.ClosedChannelException: null
	at org.apache.tomcat.util.net.NioChannel$1.write(NioChannel.java:273)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1632)
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:1051)
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1440)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1366)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1337)
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:171)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	... 29 common frames omitted
2024-10-13 16:27:51 [tomcat-handler-6] ERROR : Closing session due to exception for StandardWebSocketSession[id=bcbb5ef0-0c27-4c5c-dde5-82399bfcea2d, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The WebSocket session [0] has been closed and no method (apart from close()) may be called on a closed session
	at org.apache.tomcat.websocket.WsSession.checkState(WsSession.java:1054)
	at org.apache.tomcat.websocket.WsSession.getBasicRemote(WsSession.java:531)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:110)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.onError(WsHttpUpgradeHandler.java:234)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:156)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 16:27:51 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 16:34:10 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 16:34:10 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 1340 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 16:34:10 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 16:34:11 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 16:34:11 [main] INFO  : Finished Spring Data repository scanning in 96 ms. Found 4 JPA repository interfaces.
2024-10-13 16:34:11 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 16:34:11 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 16:34:11 [main] INFO  : Starting service [Tomcat]
2024-10-13 16:34:11 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 16:34:11 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 16:34:11 [main] INFO  : Root WebApplicationContext: initialization completed in 1187 ms
2024-10-13 16:34:11 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 16:34:11 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 16:34:11 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 16:34:12 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 16:34:12 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 16:34:12 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 16:34:12 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69fe8c75
2024-10-13 16:34:12 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 16:34:12 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 16:34:12 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 16:34:12 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 16:34:13 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 16:34:13 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 16:34:13 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 16:34:13 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 16:34:14 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 16:34:14 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 16:34:14 [main] INFO  : Started ShoppingListServiceApplication in 3.853 seconds (process running for 4.257)
2024-10-13 16:34:14 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 16:34:14 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 16:34:14 [RMI TCP Connection(2)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 16:34:20 [tomcat-handler-4] INFO  : New session connected: 012eee83-b143-7bbf-80e1-b1ac63ff1b5e, user: Jerzynki
2024-10-13 16:34:21 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 16:34:25 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip"}}
2024-10-13 16:34:57 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData"}}
2024-10-13 16:35:00 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"012eee83-b143-7bbf-80e1-b1ac63ff1b5e","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","DEST":"/synchronizeData"}}
2024-10-13 16:35:06 [tomcat-handler-7] INFO  : Session closing: 012eee83-b143-7bbf-80e1-b1ac63ff1b5e - reason: Unable to unwrap data, invalid status [CLOSED]
2024-10-13 16:35:27 [tomcat-handler-13] INFO  : New session connected: b9ea823d-8c46-49e7-525b-c0f71b1d8d22, user: Jerzynki
2024-10-13 16:35:27 [tomcat-handler-14] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 16:35:27 [tomcat-handler-15] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip"}}
2024-10-13 16:50:13 [HikariPool-1 housekeeper] WARN  : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=14m56s766ms302µs).
2024-10-13 16:50:13 [tomcat-handler-15] ERROR : Closing session due to exception for StandardWebSocketSession[id=b9ea823d-8c46-49e7-525b-c0f71b1d8d22, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textPartialStart(WsRemoteEndpointImplBase.java:1215)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:222)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:110)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:324)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:110)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:48)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 16:50:13 [tomcat-handler-15] INFO  : Session closing: b9ea823d-8c46-49e7-525b-c0f71b1d8d22 - reason: Nawiązane połączenie zostało przerwane przez oprogramowanie zainstalowane w komputerze-hoście
2024-10-13 16:50:13 [tomcat-handler-15] ERROR : Closing session due to exception for StandardWebSocketSession[id=b9ea823d-8c46-49e7-525b-c0f71b1d8d22, uri=wss://192.168.0.13/ws]
java.io.IOException: java.io.IOException: Nawiązane połączenie zostało przerwane przez oprogramowanie zainstalowane w komputerze-hoście
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:110)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:48)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
Caused by: java.io.IOException: Nawiązane połączenie zostało przerwane przez oprogramowanie zainstalowane w komputerze-hoście
	at java.base/sun.nio.ch.SocketDispatcher.write0(Native Method)
	at java.base/sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:54)
	at java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:137)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:102)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:58)
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:542)
	at org.apache.tomcat.util.net.SecureNioChannel.flush(SecureNioChannel.java:124)
	at org.apache.tomcat.util.net.SecureNioChannel.write(SecureNioChannel.java:881)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1632)
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:1051)
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1440)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1366)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1337)
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:171)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	... 29 common frames omitted
2024-10-13 16:50:13 [tomcat-handler-15] ERROR : Closing session due to exception for StandardWebSocketSession[id=b9ea823d-8c46-49e7-525b-c0f71b1d8d22, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The WebSocket session [1] has been closed and no method (apart from close()) may be called on a closed session
	at org.apache.tomcat.websocket.WsSession.checkState(WsSession.java:1054)
	at org.apache.tomcat.websocket.WsSession.getBasicRemote(WsSession.java:531)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:110)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.onError(WsHttpUpgradeHandler.java:234)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:156)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 16:50:14 [tomcat-handler-21] INFO  : New session connected: 5ee1a85e-91bc-93e6-60fe-2770f75bc49f, user: Jerzynki
2024-10-13 16:50:14 [tomcat-handler-22] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 16:50:14 [tomcat-handler-23] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 16:50:56 [tomcat-handler-23] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 16:51:11 [tomcat-handler-23] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"5ee1a85e-91bc-93e6-60fe-2770f75bc49f","PARA":"Jerzynki;","DEST":"/synchronizeData","BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}"}}
2024-10-13 16:51:11 [tomcat-handler-23] ERROR : Closing session due to exception for StandardWebSocketSession[id=5ee1a85e-91bc-93e6-60fe-2770f75bc49f, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textPartialStart(WsRemoteEndpointImplBase.java:1215)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:222)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:110)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:324)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:110)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.onError(WsHttpUpgradeHandler.java:234)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:156)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 16:51:11 [tomcat-handler-23] INFO  : Session closing: 5ee1a85e-91bc-93e6-60fe-2770f75bc49f - reason: Nawiązane połączenie zostało przerwane przez oprogramowanie zainstalowane w komputerze-hoście
2024-10-13 16:51:11 [tomcat-handler-23] ERROR : Closing session due to exception for StandardWebSocketSession[id=5ee1a85e-91bc-93e6-60fe-2770f75bc49f, uri=wss://192.168.0.13/ws]
java.io.IOException: java.io.IOException: Nawiązane połączenie zostało przerwane przez oprogramowanie zainstalowane w komputerze-hoście
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:110)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.onError(WsHttpUpgradeHandler.java:234)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:156)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
Caused by: java.io.IOException: Nawiązane połączenie zostało przerwane przez oprogramowanie zainstalowane w komputerze-hoście
	at java.base/sun.nio.ch.SocketDispatcher.write0(Native Method)
	at java.base/sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:54)
	at java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:137)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:102)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:58)
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:542)
	at org.apache.tomcat.util.net.SecureNioChannel.flush(SecureNioChannel.java:124)
	at org.apache.tomcat.util.net.SecureNioChannel.write(SecureNioChannel.java:881)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1632)
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:1051)
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1440)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1366)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1337)
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:171)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	... 20 common frames omitted
2024-10-13 16:51:17 [tomcat-handler-29] INFO  : New session connected: aee58374-cb2e-e7de-5478-194ccad93b53, user: Jerzynki
2024-10-13 16:51:17 [tomcat-handler-30] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 16:51:17 [tomcat-handler-31] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 16:52:28 [HikariPool-1 housekeeper] WARN  : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=59s672ms758µs900ns).
2024-10-13 16:52:28 [tomcat-handler-31] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 16:52:34 [tomcat-handler-31] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"aee58374-cb2e-e7de-5478-194ccad93b53","BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","PARA":"Jerzynki;","DEST":"/synchronizeData"}}
2024-10-13 16:52:36 [tomcat-handler-32] INFO  : Session closing: aee58374-cb2e-e7de-5478-194ccad93b53 - reason: null
2024-10-13 16:52:39 [tomcat-handler-38] INFO  : New session connected: db6469c2-f987-2b17-ab1b-348669c7f14a, user: Jerzynki
2024-10-13 16:52:39 [tomcat-handler-39] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 16:52:39 [tomcat-handler-40] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 16:54:33 [tomcat-handler-40] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 16:54:33 [tomcat-handler-40] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","PARA":"Jerzynki;","ID":"db6469c2-f987-2b17-ab1b-348669c7f14a","DEST":"/synchronizeData"}}
2024-10-13 16:54:33 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 16:54:33 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 16:54:33 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 16:54:33 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=db6469c2-f987-2b17-ab1b-348669c7f14a, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:110)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 16:54:33 [SpringApplicationShutdownHook] INFO  : Session closing: db6469c2-f987-2b17-ab1b-348669c7f14a - reason: The web application is stopping
2024-10-13 16:56:43 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 16:56:43 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 2528 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 16:56:43 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 16:56:43 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 16:56:43 [main] INFO  : Finished Spring Data repository scanning in 82 ms. Found 4 JPA repository interfaces.
2024-10-13 16:56:44 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 16:56:44 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 16:56:44 [main] INFO  : Starting service [Tomcat]
2024-10-13 16:56:44 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 16:56:44 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 16:56:44 [main] INFO  : Root WebApplicationContext: initialization completed in 1155 ms
2024-10-13 16:56:44 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 16:56:44 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 16:56:44 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 16:56:44 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 16:56:44 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 16:56:44 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 16:56:44 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@67baa05
2024-10-13 16:56:44 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 16:56:44 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 16:56:45 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 16:56:45 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 16:56:45 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 16:56:46 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 16:56:46 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 16:56:46 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 16:56:46 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 16:56:46 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 16:56:46 [main] INFO  : Started ShoppingListServiceApplication in 3.8 seconds (process running for 4.192)
2024-10-13 16:56:47 [RMI TCP Connection(5)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 16:56:47 [RMI TCP Connection(5)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 16:56:47 [RMI TCP Connection(5)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 16:56:52 [tomcat-handler-4] INFO  : New session connected: 232324e9-6c07-6ddd-441a-6d932405fb0f, user: Jerzynki
2024-10-13 16:56:52 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 16:56:52 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 16:57:50 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 16:57:50 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","ID":"232324e9-6c07-6ddd-441a-6d932405fb0f","PARA":"Jerzynki;","DEST":"/synchronizeData"}}
2024-10-13 16:57:50 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 16:57:50 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 16:57:50 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 16:57:50 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=232324e9-6c07-6ddd-441a-6d932405fb0f, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:111)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 16:57:50 [tomcat-handler-6] WARN  : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@67baa05 marked as broken because of SQLSTATE(08003), ErrorCode(0)
java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:111)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:98)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:90)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:64)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:74)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1823)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:386)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:127)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:289)
	at org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:142)
	at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:589)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:897)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:866)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.completeTransactionAfterThrowing(TransactionAspectSupport.java:694)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:396)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at pl.kamjer.shoppinglistservice.service.websocketservice.WebSocketService$$SpringCGLIB$$0.synchronizeWebSocket(<generated>)
	at pl.kamjer.shoppinglistservice.controller.websocetcontroller.WebSocketUtilController.synchronizeData(WebSocketUtilController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at pl.kamjer.shoppinglistservice.config.websocket.BeanInspector.findControllerMethodAndCall(BeanInspector.java:43)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleMessage(ConnectionBroker.java:34)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:42)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:756)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:556)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1776)
	... 42 common frames omitted
2024-10-13 16:57:50 [SpringApplicationShutdownHook] INFO  : Session closing: 232324e9-6c07-6ddd-441a-6d932405fb0f - reason: The web application is stopping
2024-10-13 16:57:50 [tomcat-handler-6] ERROR : Application exception overridden by rollback exception
java.lang.IllegalStateException: Session/EntityManager is closed
	at org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:487)
	at org.hibernate.engine.spi.SharedSessionContractImplementor.checkOpen(SharedSessionContractImplementor.java:187)
	at org.hibernate.internal.AbstractSharedSessionContract.checkOpenOrWaitingForAutoClose(AbstractSharedSessionContract.java:505)
	at org.hibernate.internal.SessionImpl.checkOpenOrWaitingForAutoClose(SessionImpl.java:618)
	at org.hibernate.internal.SessionImpl.instantiate(SessionImpl.java:1477)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.instantiateEntity(AbstractEntityInitializer.java:693)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.resolveEntityInstance(AbstractEntityInitializer.java:686)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.resolveInstance(AbstractEntityInitializer.java:637)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.resolveEntityInstance(AbstractEntityInitializer.java:559)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.resolveInstance(AbstractEntityInitializer.java:458)
	at org.hibernate.sql.results.internal.InitializersList.resolveInstances(InitializersList.java:97)
	at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:112)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:87)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:205)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:211)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:139)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:302)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:526)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:423)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy160.findAmountTypeByAmountTypeIdUserUserNameAndSavedTimeAfter(Unknown Source)
	at pl.kamjer.shoppinglistservice.service.UtilService.synchronizeDto(UtilService.java:174)
	at pl.kamjer.shoppinglistservice.service.websocketservice.WebSocketService.synchronizeWebSocket(WebSocketService.java:45)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at pl.kamjer.shoppinglistservice.service.websocketservice.WebSocketService$$SpringCGLIB$$0.synchronizeWebSocket(<generated>)
	at pl.kamjer.shoppinglistservice.controller.websocetcontroller.WebSocketUtilController.synchronizeData(WebSocketUtilController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at pl.kamjer.shoppinglistservice.config.websocket.BeanInspector.findControllerMethodAndCall(BeanInspector.java:43)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleMessage(ConnectionBroker.java:34)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:42)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 16:57:50 [tomcat-handler-6] ERROR : Closing session due to exception for StandardWebSocketSession[id=232324e9-6c07-6ddd-441a-6d932405fb0f, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textPartialStart(WsRemoteEndpointImplBase.java:1215)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:222)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:111)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:48)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 16:57:50 [tomcat-handler-6] ERROR : Closing session due to exception for StandardWebSocketSession[id=232324e9-6c07-6ddd-441a-6d932405fb0f, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textPartialStart(WsRemoteEndpointImplBase.java:1215)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:222)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:111)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.onError(WsHttpUpgradeHandler.java:234)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:156)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 16:59:00 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 16:59:00 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 1876 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 16:59:00 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 16:59:00 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 16:59:00 [main] INFO  : Finished Spring Data repository scanning in 87 ms. Found 4 JPA repository interfaces.
2024-10-13 16:59:01 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 16:59:01 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 16:59:01 [main] INFO  : Starting service [Tomcat]
2024-10-13 16:59:01 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 16:59:01 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 16:59:01 [main] INFO  : Root WebApplicationContext: initialization completed in 1205 ms
2024-10-13 16:59:01 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 16:59:01 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 16:59:01 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 16:59:02 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 16:59:02 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 16:59:02 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 16:59:02 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@633cad4d
2024-10-13 16:59:02 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 16:59:02 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 16:59:02 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 16:59:02 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 16:59:03 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 16:59:03 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 16:59:03 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 16:59:04 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 16:59:04 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 16:59:04 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 16:59:04 [main] INFO  : Started ShoppingListServiceApplication in 4.173 seconds (process running for 4.568)
2024-10-13 16:59:04 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 16:59:04 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 16:59:04 [RMI TCP Connection(2)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 16:59:21 [tomcat-handler-4] INFO  : New session connected: 7909f9ad-8f79-d428-ceda-301da7aa47b3, user: Jerzynki
2024-10-13 16:59:21 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 16:59:21 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 16:59:52 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 16:59:52 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"7909f9ad-8f79-d428-ceda-301da7aa47b3","BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","PARA":"Jerzynki;","DEST":"/synchronizeData"}}
2024-10-13 16:59:52 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 16:59:52 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 16:59:52 [tomcat-handler-6] ERROR : Closing session due to exception for StandardWebSocketSession[id=7909f9ad-8f79-d428-ceda-301da7aa47b3, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textPartialStart(WsRemoteEndpointImplBase.java:1215)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:222)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:114)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:324)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:114)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:48)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 16:59:52 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 16:59:52 [tomcat-handler-6] INFO  : Session closing: 7909f9ad-8f79-d428-ceda-301da7aa47b3 - reason: null
2024-10-13 16:59:52 [tomcat-handler-6] ERROR : Closing session due to exception for StandardWebSocketSession[id=7909f9ad-8f79-d428-ceda-301da7aa47b3, uri=wss://192.168.0.13/ws]
java.io.IOException: java.nio.channels.ClosedChannelException
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:114)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:48)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
Caused by: java.nio.channels.ClosedChannelException: null
	at org.apache.tomcat.util.net.NioChannel$1.write(NioChannel.java:273)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1632)
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:1051)
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1440)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1366)
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1337)
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:171)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	... 29 common frames omitted
2024-10-13 16:59:52 [tomcat-handler-6] ERROR : Closing session due to exception for StandardWebSocketSession[id=7909f9ad-8f79-d428-ceda-301da7aa47b3, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The WebSocket session [0] has been closed and no method (apart from close()) may be called on a closed session
	at org.apache.tomcat.websocket.WsSession.checkState(WsSession.java:1054)
	at org.apache.tomcat.websocket.WsSession.getBasicRemote(WsSession.java:531)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:114)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.onError(WsHttpUpgradeHandler.java:234)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:156)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 17:00:03 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 17:00:03 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 10436 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 17:00:03 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 17:00:03 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 17:00:03 [main] INFO  : Finished Spring Data repository scanning in 89 ms. Found 4 JPA repository interfaces.
2024-10-13 17:00:04 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 17:00:04 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 17:00:04 [main] INFO  : Starting service [Tomcat]
2024-10-13 17:00:04 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 17:00:04 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 17:00:04 [main] INFO  : Root WebApplicationContext: initialization completed in 1201 ms
2024-10-13 17:00:04 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 17:00:04 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 17:00:04 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 17:00:04 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 17:00:04 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 17:00:04 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 17:00:05 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20462820
2024-10-13 17:00:05 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 17:00:05 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 17:00:05 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 17:00:05 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 17:00:06 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 17:00:06 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 17:00:06 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 17:00:06 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 17:00:06 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 17:00:06 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 17:00:06 [main] INFO  : Started ShoppingListServiceApplication in 3.935 seconds (process running for 4.323)
2024-10-13 17:00:07 [RMI TCP Connection(1)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 17:00:07 [RMI TCP Connection(1)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 17:00:07 [RMI TCP Connection(1)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 17:00:11 [tomcat-handler-4] INFO  : New session connected: 532a88d2-0909-7b7d-3015-c9a3ffd753cf, user: Jerzynki
2024-10-13 17:00:11 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 17:00:11 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 17:01:38 [HikariPool-1 housekeeper] WARN  : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m33s393ms284µs500ns).
2024-10-13 17:01:38 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 17:01:38 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","ID":"532a88d2-0909-7b7d-3015-c9a3ffd753cf","PARA":"Jerzynki;","DEST":"/synchronizeData"}}
2024-10-13 17:01:38 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 17:01:38 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 17:01:38 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 17:01:38 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=532a88d2-0909-7b7d-3015-c9a3ffd753cf, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:114)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 17:01:38 [tomcat-handler-6] WARN  : HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@20462820 marked as broken because of SQLSTATE(08003), ErrorCode(0)
java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:111)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:98)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:90)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:64)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:74)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:73)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1823)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:386)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:127)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:289)
	at org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:142)
	at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:589)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:897)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:866)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.completeTransactionAfterThrowing(TransactionAspectSupport.java:694)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:396)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at pl.kamjer.shoppinglistservice.service.websocketservice.WebSocketService$$SpringCGLIB$$0.synchronizeWebSocket(<generated>)
	at pl.kamjer.shoppinglistservice.controller.websocetcontroller.WebSocketUtilController.synchronizeData(WebSocketUtilController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at pl.kamjer.shoppinglistservice.config.websocket.BeanInspector.findControllerMethodAndCall(BeanInspector.java:43)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleMessage(ConnectionBroker.java:34)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:42)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:756)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:556)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1776)
	... 42 common frames omitted
2024-10-13 17:01:38 [SpringApplicationShutdownHook] INFO  : Session closing: 532a88d2-0909-7b7d-3015-c9a3ffd753cf - reason: The web application is stopping
2024-10-13 17:01:38 [tomcat-handler-6] ERROR : Application exception overridden by rollback exception
java.lang.IllegalStateException: Session/EntityManager is closed
	at org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:487)
	at org.hibernate.engine.spi.SharedSessionContractImplementor.checkOpen(SharedSessionContractImplementor.java:187)
	at org.hibernate.internal.AbstractSharedSessionContract.checkOpenOrWaitingForAutoClose(AbstractSharedSessionContract.java:505)
	at org.hibernate.internal.SessionImpl.checkOpenOrWaitingForAutoClose(SessionImpl.java:618)
	at org.hibernate.internal.SessionImpl.getPersistenceContext(SessionImpl.java:1843)
	at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.finishUpRow(AbstractEntityInitializer.java:1156)
	at org.hibernate.sql.results.internal.InitializersList.finishUpRow(InitializersList.java:67)
	at org.hibernate.sql.results.internal.StandardRowReader.afterRow(StandardRowReader.java:107)
	at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:100)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:205)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:211)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:83)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:76)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:65)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$2(ConcreteSqmSelectQueryPlan.java:139)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:382)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:302)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:526)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:423)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy160.findAmountTypeByAmountTypeIdUserUserNameAndSavedTimeAfter(Unknown Source)
	at pl.kamjer.shoppinglistservice.service.UtilService.synchronizeDto(UtilService.java:174)
	at pl.kamjer.shoppinglistservice.service.websocketservice.WebSocketService.synchronizeWebSocket(WebSocketService.java:45)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:354)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:392)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at pl.kamjer.shoppinglistservice.service.websocketservice.WebSocketService$$SpringCGLIB$$0.synchronizeWebSocket(<generated>)
	at pl.kamjer.shoppinglistservice.controller.websocetcontroller.WebSocketUtilController.synchronizeData(WebSocketUtilController.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at pl.kamjer.shoppinglistservice.config.websocket.BeanInspector.findControllerMethodAndCall(BeanInspector.java:43)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleMessage(ConnectionBroker.java:34)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:42)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 17:01:38 [tomcat-handler-6] ERROR : Closing session due to exception for StandardWebSocketSession[id=532a88d2-0909-7b7d-3015-c9a3ffd753cf, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textPartialStart(WsRemoteEndpointImplBase.java:1215)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:222)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:114)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleMessage(WebSocketHandler.java:48)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81)
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390)
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130)
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484)
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284)
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 17:01:38 [tomcat-handler-6] ERROR : Closing session due to exception for StandardWebSocketSession[id=532a88d2-0909-7b7d-3015-c9a3ffd753cf, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textPartialStart(WsRemoteEndpointImplBase.java:1215)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:222)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:114)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.onError(WsHttpUpgradeHandler.java:234)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:156)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:309)
2024-10-13 17:02:33 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 17:02:33 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 12884 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 17:02:33 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 17:02:34 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 17:02:34 [main] INFO  : Finished Spring Data repository scanning in 79 ms. Found 4 JPA repository interfaces.
2024-10-13 17:02:35 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 17:02:35 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 17:02:35 [main] INFO  : Starting service [Tomcat]
2024-10-13 17:02:35 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 17:02:35 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 17:02:35 [main] INFO  : Root WebApplicationContext: initialization completed in 1084 ms
2024-10-13 17:02:35 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 17:02:35 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 17:02:35 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 17:02:35 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 17:02:35 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 17:02:35 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 17:02:35 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5f14590c
2024-10-13 17:02:35 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 17:02:35 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 17:02:36 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 17:02:36 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 17:02:36 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 17:02:36 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 17:02:37 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 17:02:37 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 17:02:37 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 17:02:37 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 17:02:37 [main] INFO  : Started ShoppingListServiceApplication in 3.72 seconds (process running for 4.114)
2024-10-13 17:02:38 [RMI TCP Connection(3)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 17:02:38 [RMI TCP Connection(3)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 17:02:38 [RMI TCP Connection(3)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 17:02:58 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 17:02:58 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 17:02:58 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 17:04:16 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 17:04:16 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 17124 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 17:04:16 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 17:04:17 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 17:04:17 [main] INFO  : Finished Spring Data repository scanning in 81 ms. Found 4 JPA repository interfaces.
2024-10-13 17:04:17 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 17:04:17 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 17:04:17 [main] INFO  : Starting service [Tomcat]
2024-10-13 17:04:17 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 17:04:17 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 17:04:17 [main] INFO  : Root WebApplicationContext: initialization completed in 1154 ms
2024-10-13 17:04:18 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 17:04:18 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 17:04:18 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 17:04:18 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 17:04:18 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 17:04:18 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 17:04:18 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20462820
2024-10-13 17:04:18 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 17:04:18 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 17:04:19 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 17:04:19 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 17:04:19 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 17:04:19 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 17:04:19 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 17:04:20 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 17:04:20 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 17:04:20 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 17:04:20 [main] INFO  : Started ShoppingListServiceApplication in 3.807 seconds (process running for 4.2)
2024-10-13 17:04:20 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 17:04:20 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 17:04:20 [RMI TCP Connection(2)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 17:04:26 [tomcat-handler-4] INFO  : New session connected: 94199771-df01-8e15-95b6-e56ec288de72, user: Jerzynki
2024-10-13 17:04:26 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 17:04:26 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 17:05:16 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 17:05:16 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","ID":"94199771-df01-8e15-95b6-e56ec288de72","PARA":"Jerzynki;","DEST":"/synchronizeData"}}
2024-10-13 17:05:33 [tomcat-handler-7] INFO  : Session closing: 94199771-df01-8e15-95b6-e56ec288de72 - reason: Unable to unwrap data, invalid status [CLOSED]
2024-10-13 17:09:46 [tomcat-handler-13] INFO  : New session connected: 3b5567ab-711a-4cb6-e096-33bb40c2ae81, user: Jerzynki
2024-10-13 17:09:46 [tomcat-handler-14] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 17:09:46 [tomcat-handler-15] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 17:10:10 [tomcat-handler-15] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 17:10:10 [tomcat-handler-15] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","PARA":"Jerzynki;","ID":"3b5567ab-711a-4cb6-e096-33bb40c2ae81","DEST":"/synchronizeData"}}
2024-10-13 17:10:18 [tomcat-handler-16] INFO  : Session closing: 3b5567ab-711a-4cb6-e096-33bb40c2ae81 - reason: Unable to unwrap data, invalid status [CLOSED]
2024-10-13 17:20:56 [tomcat-handler-22] INFO  : New session connected: e64a1861-d2d3-6b9c-221b-74d20be093cf, user: Jerzynki
2024-10-13 17:20:56 [tomcat-handler-23] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 17:20:56 [tomcat-handler-24] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 17:21:01 [tomcat-handler-24] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 17:21:01 [tomcat-handler-24] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","PARA":"Jerzynki;","ID":"e64a1861-d2d3-6b9c-221b-74d20be093cf","DEST":"/synchronizeData"}}
2024-10-13 17:21:26 [tomcat-handler-25] INFO  : Session closing: e64a1861-d2d3-6b9c-221b-74d20be093cf - reason: Unable to unwrap data, invalid status [CLOSED]
2024-10-13 17:22:49 [tomcat-handler-31] INFO  : New session connected: bd1f4f6e-aabb-f935-af9a-c279e50a82a8, user: Jerzynki
2024-10-13 17:22:49 [tomcat-handler-32] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 17:22:49 [tomcat-handler-33] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 17:22:55 [tomcat-handler-33] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 17:26:18 [HikariPool-1 housekeeper] WARN  : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m41s400ms773µs600ns).
2024-10-13 17:26:18 [tomcat-handler-33] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[],\"categoryDtoList\":[],\"shoppingItemDtoList\":[]}","PARA":"Jerzynki;","DEST":"/synchronizeData","ID":"bd1f4f6e-aabb-f935-af9a-c279e50a82a8"}}
2024-10-13 17:26:18 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 17:26:18 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 17:26:18 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 17:26:18 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=bd1f4f6e-aabb-f935-af9a-c279e50a82a8, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:113)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 17:26:18 [SpringApplicationShutdownHook] INFO  : Session closing: bd1f4f6e-aabb-f935-af9a-c279e50a82a8 - reason: The web application is stopping
2024-10-13 17:30:27 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 17:30:27 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 12704 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 17:30:27 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 17:30:27 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 17:30:27 [main] INFO  : Finished Spring Data repository scanning in 83 ms. Found 4 JPA repository interfaces.
2024-10-13 17:30:28 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 17:30:28 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 17:30:28 [main] INFO  : Starting service [Tomcat]
2024-10-13 17:30:28 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 17:30:28 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 17:30:28 [main] INFO  : Root WebApplicationContext: initialization completed in 1120 ms
2024-10-13 17:30:28 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 17:30:28 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 17:30:28 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 17:30:28 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 17:30:28 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 17:30:28 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 17:30:28 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@468646ea
2024-10-13 17:30:28 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 17:30:28 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 17:30:29 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 17:30:29 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 17:30:29 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 17:30:29 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 17:30:30 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 17:30:30 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 17:30:30 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 17:30:30 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 17:30:30 [main] INFO  : Started ShoppingListServiceApplication in 3.762 seconds (process running for 4.146)
2024-10-13 17:30:31 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 17:30:31 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 17:30:31 [RMI TCP Connection(2)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 17:30:35 [tomcat-handler-4] INFO  : New session connected: ca6d1279-1825-3660-79bd-a859973c9895, user: Jerzynki
2024-10-13 17:30:35 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 17:30:35 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 17:30:40 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 17:30:44 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"PARA":"Jerzynki;","ID":"ca6d1279-1825-3660-79bd-a859973c9895","DEST":"/synchronizeData","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T17:26:18.060580200\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}"}}
2024-10-13 17:30:53 [tomcat-handler-7] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"PARA":"Jerzynki;","ID":"ca6d1279-1825-3660-79bd-a859973c9895","DEST":"/synchronizeData","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T17:30:44.689550800\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"UPDATE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}"}}
2024-10-13 17:31:00 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 17:31:00 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 17:31:00 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 17:31:00 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=ca6d1279-1825-3660-79bd-a859973c9895, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:115)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 17:31:00 [SpringApplicationShutdownHook] INFO  : Session closing: ca6d1279-1825-3660-79bd-a859973c9895 - reason: The web application is stopping
2024-10-13 17:31:32 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 17:31:32 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 18068 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 17:31:32 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 17:31:33 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 17:31:33 [main] INFO  : Finished Spring Data repository scanning in 80 ms. Found 4 JPA repository interfaces.
2024-10-13 17:31:33 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 17:31:33 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 17:31:33 [main] INFO  : Starting service [Tomcat]
2024-10-13 17:31:33 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 17:31:33 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 17:31:33 [main] INFO  : Root WebApplicationContext: initialization completed in 1117 ms
2024-10-13 17:31:33 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 17:31:33 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 17:31:34 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 17:31:34 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 17:31:34 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 17:31:34 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 17:31:34 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20462820
2024-10-13 17:31:34 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 17:31:34 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 17:31:34 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 17:31:35 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 17:31:35 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 17:31:35 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 17:31:35 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 17:31:36 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 17:31:36 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 17:31:36 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 17:31:36 [main] INFO  : Started ShoppingListServiceApplication in 3.753 seconds (process running for 4.145)
2024-10-13 17:31:36 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 17:31:36 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 17:31:36 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 18:56:29 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 18:56:29 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 14340 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 18:56:29 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 18:56:30 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 18:56:30 [main] INFO  : Finished Spring Data repository scanning in 84 ms. Found 4 JPA repository interfaces.
2024-10-13 18:56:31 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 18:56:31 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 18:56:31 [main] INFO  : Starting service [Tomcat]
2024-10-13 18:56:31 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 18:56:31 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 18:56:31 [main] INFO  : Root WebApplicationContext: initialization completed in 1160 ms
2024-10-13 18:56:31 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 18:56:31 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 18:56:31 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 18:56:31 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 18:56:31 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 18:56:31 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 18:56:31 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5f14590c
2024-10-13 18:56:31 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 18:56:31 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 18:56:32 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 18:56:32 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 18:56:32 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 18:56:32 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 18:56:33 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 18:56:33 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 18:56:33 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 18:56:33 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 18:56:33 [main] INFO  : Started ShoppingListServiceApplication in 3.845 seconds (process running for 4.248)
2024-10-13 18:56:34 [RMI TCP Connection(1)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 18:56:34 [RMI TCP Connection(1)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 18:56:34 [RMI TCP Connection(1)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 18:56:37 [tomcat-handler-4] INFO  : New session connected: 263028cb-81c8-0379-be71-f80935ad20e9, user: Jerzynki
2024-10-13 18:56:37 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 18:56:38 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 18:56:43 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 18:56:45 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T17:30:53.549022900\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData","ID":"263028cb-81c8-0379-be71-f80935ad20e9"}}
2024-10-13 18:56:51 [tomcat-handler-7] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T18:56:45.856659500\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"UPDATE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData","ID":"263028cb-81c8-0379-be71-f80935ad20e9"}}
2024-10-13 18:57:26 [tomcat-handler-13] INFO  : New session connected: 61939bdb-746f-d30b-e67c-bc193cafae5a, user: Jerzynki
2024-10-13 18:57:26 [tomcat-handler-14] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 18:57:26 [tomcat-handler-15] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 20:11:55 [HikariPool-1 housekeeper] WARN  : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h14m53s486ms204µs800ns).
2024-10-13 20:11:55 [tomcat-handler-15] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 20:11:55 [tomcat-handler-15] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-12T23:56:44.798259800\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"UPDATE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","ID":"61939bdb-746f-d30b-e67c-bc193cafae5a","PARA":"Jerzynki;","DEST":"/synchronizeData"}}
2024-10-13 20:12:54 [tomcat-handler-16] INFO  : Session closing: 263028cb-81c8-0379-be71-f80935ad20e9 - reason: null
2024-10-13 20:12:54 [tomcat-handler-17] INFO  : Session closing: 61939bdb-746f-d30b-e67c-bc193cafae5a - reason: null
2024-10-13 20:13:01 [tomcat-handler-23] INFO  : New session connected: 2b9fe6e4-1c42-435d-1258-1125c4f0b89c, user: Jerzynki
2024-10-13 20:13:01 [tomcat-handler-24] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 20:13:01 [tomcat-handler-25] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 20:13:04 [tomcat-handler-25] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 20:13:04 [tomcat-handler-25] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T18:56:51.487948700\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData","ID":"2b9fe6e4-1c42-435d-1258-1125c4f0b89c"}}
2024-10-13 20:13:22 [tomcat-handler-31] INFO  : New session connected: 9bf20ff1-4421-08e0-3ea7-3eb5f602533d, user: Jerzynki
2024-10-13 20:13:22 [tomcat-handler-32] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 20:13:22 [tomcat-handler-33] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip","PARA":"Jerzynki;"}}
2024-10-13 20:13:24 [tomcat-handler-33] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData","PARA":""}}
2024-10-13 20:13:25 [tomcat-handler-33] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T20:11:55.940596100\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","ID":"9bf20ff1-4421-08e0-3ea7-3eb5f602533d","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 20:13:32 [tomcat-handler-35] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T20:13:25.794997700\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"UPDATE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","ID":"9bf20ff1-4421-08e0-3ea7-3eb5f602533d","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 20:13:32 [tomcat-handler-41] ERROR : Jerzynki: 
pl.kamjer.shoppinglistservice.exception.LogException: null
	at .checkState(Preconditions.java:215)
	at .show(Toast.java:199)
	at .createToast(GenericActivity.java:25)
	at .lambda$onCreate$2(InitializerActivity.java:59)
	at .$r8$lambda$-PKGCsVqn3UzxjR206HDVVYtlYg(:0)
	at .action(D8$$SyntheticClass:0)
	at .lambda$initializeOnMessageAction$13(CustomViewModel.java:199)
	at .run(D8$$SyntheticClass:0)
	at .handleCallback(Handler.java:958)
	at .dispatchMessage(Handler.java:99)
	at .loopOnce(Looper.java:205)
	at .loop(Looper.java:294)
	at .main(ActivityThread.java:8177)
	at .invoke(Native Method)
	at .run(RuntimeInit.java:552)
	at .main(ZygoteInit.java:971)
2024-10-13 20:13:54 [tomcat-handler-42] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T20:13:04.636337600\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"UPDATE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData","ID":"2b9fe6e4-1c42-435d-1258-1125c4f0b89c"}}
2024-10-13 20:18:31 [HikariPool-1 housekeeper] WARN  : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m24s301ms216µs200ns).
2024-10-13 20:19:11 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 20:19:11 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 20:19:11 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 20:19:11 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=2b9fe6e4-1c42-435d-1258-1125c4f0b89c, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:115)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 20:19:11 [SpringApplicationShutdownHook] INFO  : Session closing: 2b9fe6e4-1c42-435d-1258-1125c4f0b89c - reason: The web application is stopping
2024-10-13 20:19:11 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=9bf20ff1-4421-08e0-3ea7-3eb5f602533d, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:115)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 20:19:11 [SpringApplicationShutdownHook] INFO  : Session closing: 9bf20ff1-4421-08e0-3ea7-3eb5f602533d - reason: The web application is stopping
2024-10-13 20:20:39 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 20:20:39 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 5232 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 20:20:39 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 20:20:39 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 20:20:39 [main] INFO  : Finished Spring Data repository scanning in 87 ms. Found 4 JPA repository interfaces.
2024-10-13 20:20:40 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 20:20:40 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 20:20:40 [main] INFO  : Starting service [Tomcat]
2024-10-13 20:20:40 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 20:20:40 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 20:20:40 [main] INFO  : Root WebApplicationContext: initialization completed in 1208 ms
2024-10-13 20:20:40 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 20:20:40 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 20:20:40 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 20:20:40 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 20:20:40 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 20:20:40 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 20:20:41 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@46051269
2024-10-13 20:20:41 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 20:20:41 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 20:20:41 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 20:20:41 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 20:20:42 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 20:20:42 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 20:20:42 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 20:20:42 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 20:20:42 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 20:20:42 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 20:20:42 [main] INFO  : Started ShoppingListServiceApplication in 3.948 seconds (process running for 4.355)
2024-10-13 20:20:43 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 20:20:43 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 20:20:43 [RMI TCP Connection(2)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 20:20:49 [tomcat-handler-4] INFO  : New session connected: c3762c5c-fc35-1ca5-fd92-8fc5f96b5d74, user: Jerzynki
2024-10-13 20:20:49 [tomcat-handler-4] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 20:20:50 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip","PARA":"Jerzynki;"}}
2024-10-13 20:20:50 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData","PARA":""}}
2024-10-13 20:20:50 [tomcat-handler-7] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"c3762c5c-fc35-1ca5-fd92-8fc5f96b5d74","DEST":"/synchronizeData","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T20:13:32.394825900\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}"}}
2024-10-13 20:21:15 [tomcat-handler-13] INFO  : New session connected: 18936ea2-2724-2c0c-5dd5-a8f545c25545, user: Jerzynki
2024-10-13 20:21:15 [tomcat-handler-14] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 20:21:16 [tomcat-handler-15] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 20:21:16 [tomcat-handler-16] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 20:21:16 [tomcat-handler-16] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T20:14:06.717096500\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","PARA":"Jerzynki;","ID":"18936ea2-2724-2c0c-5dd5-a8f545c25545","DEST":"/synchronizeData"}}
2024-10-13 20:21:31 [tomcat-handler-18] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T20:21:18.271598200\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"UPDATE\",\"shoppingItemId\":163}]}","PARA":"Jerzynki;","ID":"18936ea2-2724-2c0c-5dd5-a8f545c25545","DEST":"/synchronizeData"}}
2024-10-13 20:22:56 [HikariPool-1 housekeeper] WARN  : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m45s588ms677µs700ns).
2024-10-13 20:22:56 [tomcat-handler-19] INFO  : Session closing: c3762c5c-fc35-1ca5-fd92-8fc5f96b5d74 - reason: null
2024-10-13 20:22:56 [tomcat-handler-18] INFO  : Session closing: 18936ea2-2724-2c0c-5dd5-a8f545c25545 - reason: null
2024-10-13 22:16:55 [tomcat-handler-25] INFO  : New session connected: 8f5469f9-fe4f-5373-8774-b8e434a02fd2, user: Jerzynki
2024-10-13 22:16:55 [tomcat-handler-26] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 22:16:55 [tomcat-handler-27] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 22:16:55 [tomcat-handler-28] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 22:16:55 [tomcat-handler-30] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"PARA":"Jerzynki;","ID":"8f5469f9-fe4f-5373-8774-b8e434a02fd2","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T20:21:34.083004500\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData"}}
2024-10-13 22:17:08 [tomcat-handler-31] INFO  : Session closing: 8f5469f9-fe4f-5373-8774-b8e434a02fd2 - reason: null
2024-10-13 22:17:12 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 22:17:12 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 22:17:12 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 22:47:55 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 22:47:55 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 8296 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 22:47:55 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 22:47:55 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 22:47:56 [main] INFO  : Finished Spring Data repository scanning in 92 ms. Found 4 JPA repository interfaces.
2024-10-13 22:47:56 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 22:47:56 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 22:47:56 [main] INFO  : Starting service [Tomcat]
2024-10-13 22:47:56 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 22:47:56 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 22:47:56 [main] INFO  : Root WebApplicationContext: initialization completed in 1223 ms
2024-10-13 22:47:56 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 22:47:56 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 22:47:56 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 22:47:56 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 22:47:56 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 22:47:56 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 22:47:57 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@10ae002e
2024-10-13 22:47:57 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 22:47:57 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 22:47:57 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 22:47:57 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 22:47:58 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 22:47:58 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 22:47:58 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 22:47:58 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 22:47:58 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 22:47:59 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 22:47:59 [main] INFO  : Started ShoppingListServiceApplication in 4.028 seconds (process running for 5.022)
2024-10-13 22:47:59 [RMI TCP Connection(3)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 22:47:59 [RMI TCP Connection(3)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 22:47:59 [RMI TCP Connection(3)-192.168.0.13] INFO  : Completed initialization in 0 ms
2024-10-13 22:48:03 [tomcat-handler-4] INFO  : New session connected: a6b7e29b-035a-7ab0-f207-88a656f6be32, user: Jerzynki
2024-10-13 22:48:03 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 22:48:04 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 22:48:04 [tomcat-handler-7] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 22:48:04 [tomcat-handler-8] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T20:21:34.083004500\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","PARA":"Jerzynki;","DEST":"/synchronizeData","ID":"a6b7e29b-035a-7ab0-f207-88a656f6be32"}}
2024-10-13 22:48:16 [tomcat-handler-14] INFO  : New session connected: 05a68a0a-b30d-a0e3-8c18-3c430434924a, user: Jerzynki
2024-10-13 22:48:16 [tomcat-handler-15] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 22:48:16 [tomcat-handler-16] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip","PARA":"Jerzynki;"}}
2024-10-13 22:48:16 [tomcat-handler-17] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData","PARA":""}}
2024-10-13 22:48:16 [tomcat-handler-18] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T20:20:53.218812600\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData","PARA":"Jerzynki;","ID":"05a68a0a-b30d-a0e3-8c18-3c430434924a"}}
2024-10-13 22:48:25 [tomcat-handler-19] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:48:20.941947900\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"UPDATE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData","PARA":"Jerzynki;","ID":"05a68a0a-b30d-a0e3-8c18-3c430434924a"}}
2024-10-13 22:49:19 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 22:49:19 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 22:49:19 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 22:49:19 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=a6b7e29b-035a-7ab0-f207-88a656f6be32, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:117)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 22:49:19 [SpringApplicationShutdownHook] INFO  : Session closing: a6b7e29b-035a-7ab0-f207-88a656f6be32 - reason: The web application is stopping
2024-10-13 22:49:19 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=05a68a0a-b30d-a0e3-8c18-3c430434924a, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:117)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 22:49:19 [SpringApplicationShutdownHook] INFO  : Session closing: 05a68a0a-b30d-a0e3-8c18-3c430434924a - reason: The web application is stopping
2024-10-13 22:50:45 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 22:50:45 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 8120 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 22:50:45 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 22:50:46 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 22:50:46 [main] INFO  : Finished Spring Data repository scanning in 91 ms. Found 4 JPA repository interfaces.
2024-10-13 22:50:46 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 22:50:46 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 22:50:46 [main] INFO  : Starting service [Tomcat]
2024-10-13 22:50:46 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 22:50:46 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 22:50:46 [main] INFO  : Root WebApplicationContext: initialization completed in 1197 ms
2024-10-13 22:50:46 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 22:50:46 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 22:50:46 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 22:50:47 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 22:50:47 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 22:50:47 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 22:50:47 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@267b678f
2024-10-13 22:50:47 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 22:50:47 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 22:50:48 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 22:50:48 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 22:50:48 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 22:50:48 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 22:50:48 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 22:50:49 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 22:50:49 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 22:50:49 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 22:50:49 [main] INFO  : Started ShoppingListServiceApplication in 4.033 seconds (process running for 4.427)
2024-10-13 22:50:49 [RMI TCP Connection(1)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 22:50:49 [RMI TCP Connection(1)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 22:50:49 [RMI TCP Connection(1)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 22:51:54 [tomcat-handler-4] INFO  : New session connected: e42df249-c423-5ec8-8b67-f9cddd7d9381, user: Jerzynki
2024-10-13 22:51:54 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 22:51:55 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 22:51:55 [tomcat-handler-7] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 22:51:55 [tomcat-handler-8] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:48:06.370325800\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","PARA":"Jerzynki;","ID":"e42df249-c423-5ec8-8b67-f9cddd7d9381","DEST":"/synchronizeData"}}
2024-10-13 22:52:15 [tomcat-handler-14] INFO  : New session connected: 6cbdff96-c668-fe20-c623-6ebf6641a70d, user: Jerzynki
2024-10-13 22:52:15 [tomcat-handler-15] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 22:52:16 [tomcat-handler-16] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip","PARA":"Jerzynki;"}}
2024-10-13 22:52:16 [tomcat-handler-17] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData","PARA":""}}
2024-10-13 22:52:16 [tomcat-handler-18] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:48:27.740858100\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData","PARA":"Jerzynki;","ID":"6cbdff96-c668-fe20-c623-6ebf6641a70d"}}
2024-10-13 22:52:22 [tomcat-handler-19] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:52:16.091444300\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"UPDATE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData","PARA":"Jerzynki;","ID":"6cbdff96-c668-fe20-c623-6ebf6641a70d"}}
2024-10-13 22:53:04 [tomcat-handler-20] INFO  : Session closing: e42df249-c423-5ec8-8b67-f9cddd7d9381 - reason: null
2024-10-13 22:56:24 [tomcat-handler-26] INFO  : New session connected: 3379d863-8494-8a2b-19af-4fc444e08017, user: Jerzynki
2024-10-13 22:56:24 [tomcat-handler-27] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 22:56:24 [tomcat-handler-28] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 22:56:24 [tomcat-handler-29] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 22:56:24 [tomcat-handler-30] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"3379d863-8494-8a2b-19af-4fc444e08017","PARA":"Jerzynki;","DEST":"/synchronizeData","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:51:58.405080600\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}"}}
2024-10-13 22:56:42 [tomcat-handler-31] INFO  : Session closing: 6cbdff96-c668-fe20-c623-6ebf6641a70d - reason: null
2024-10-13 22:56:58 [tomcat-handler-37] INFO  : New session connected: cd09d513-daa4-9724-5885-2ce0f2805c8a, user: Jerzynki
2024-10-13 22:56:58 [tomcat-handler-38] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 22:56:58 [tomcat-handler-39] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip","PARA":"Jerzynki;"}}
2024-10-13 22:56:58 [tomcat-handler-40] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData","PARA":""}}
2024-10-13 22:56:58 [tomcat-handler-41] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"DEST":"/synchronizeData","PARA":"Jerzynki;","ID":"cd09d513-daa4-9724-5885-2ce0f2805c8a","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:52:22.490732700\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}"}}
2024-10-13 22:57:02 [tomcat-handler-42] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"3379d863-8494-8a2b-19af-4fc444e08017","PARA":"Jerzynki;","DEST":"/synchronizeData","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:56:24.878396\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"UPDATE\",\"shoppingItemId\":163}]}"}}
2024-10-13 22:57:33 [tomcat-handler-44] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"3379d863-8494-8a2b-19af-4fc444e08017","PARA":"Jerzynki;","DEST":"/synchronizeData","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:57:02.851498200\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"UPDATE\",\"shoppingItemId\":163}]}"}}
2024-10-13 22:57:36 [tomcat-handler-45] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"3379d863-8494-8a2b-19af-4fc444e08017","PARA":"Jerzynki;","DEST":"/synchronizeData","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:57:33.467967200\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"UPDATE\",\"shoppingItemId\":163}]}"}}
2024-10-13 22:58:58 [tomcat-handler-46] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"3379d863-8494-8a2b-19af-4fc444e08017","PARA":"Jerzynki;","DEST":"/synchronizeData","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:57:36.551542200\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"UPDATE\",\"shoppingItemId\":163}]}"}}
2024-10-13 22:59:23 [HikariPool-1 housekeeper] WARN  : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=52s82ms242µs500ns).
2024-10-13 22:59:23 [tomcat-handler-47] INFO  : Session closing: cd09d513-daa4-9724-5885-2ce0f2805c8a - reason: null
2024-10-13 22:59:23 [tomcat-handler-46] INFO  : Session closing: 3379d863-8494-8a2b-19af-4fc444e08017 - reason: null
2024-10-13 22:59:55 [tomcat-handler-53] INFO  : New session connected: 35070415-63b0-434e-8d32-c424190881cf, user: Jerzynki
2024-10-13 22:59:55 [tomcat-handler-54] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 22:59:57 [tomcat-handler-54] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip","PARA":"Jerzynki;"}}
2024-10-13 22:59:58 [tomcat-handler-54] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData","PARA":""}}
2024-10-13 22:59:59 [tomcat-handler-54] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"DEST":"/synchronizeData","ID":"35070415-63b0-434e-8d32-c424190881cf","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:56:58.776560500\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","PARA":"Jerzynki;"}}
2024-10-13 23:00:08 [tomcat-handler-60] INFO  : New session connected: b9c32d17-6388-1a76-0b19-03140e67d9ac, user: Jerzynki
2024-10-13 23:00:08 [tomcat-handler-61] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 23:00:13 [tomcat-handler-61] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 23:00:14 [tomcat-handler-61] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 23:00:15 [tomcat-handler-61] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"b9c32d17-6388-1a76-0b19-03140e67d9ac","PARA":"Jerzynki;","DEST":"/synchronizeData","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:58:58.855283500\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}"}}
2024-10-13 23:00:15 [tomcat-handler-61] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"b9c32d17-6388-1a76-0b19-03140e67d9ac","PARA":"Jerzynki;","DEST":"/synchronizeData","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:58:58.855283500\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"UPDATE\",\"shoppingItemId\":163}]}"}}
2024-10-13 23:01:00 [HikariPool-1 housekeeper] WARN  : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m7s694ms193µs400ns).
2024-10-13 23:01:06 [tomcat-handler-62] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"DEST":"/synchronizeData","ID":"35070415-63b0-434e-8d32-c424190881cf","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T22:59:59.630261200\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"UPDATE\",\"shoppingItemId\":163}]}","PARA":"Jerzynki;"}}
2024-10-13 23:01:17 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 23:01:17 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 23:01:17 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 23:01:17 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=b9c32d17-6388-1a76-0b19-03140e67d9ac, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:117)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 23:01:17 [SpringApplicationShutdownHook] INFO  : Session closing: b9c32d17-6388-1a76-0b19-03140e67d9ac - reason: The web application is stopping
2024-10-13 23:01:17 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=35070415-63b0-434e-8d32-c424190881cf, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:117)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:55)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 23:01:17 [SpringApplicationShutdownHook] INFO  : Session closing: 35070415-63b0-434e-8d32-c424190881cf - reason: The web application is stopping
2024-10-13 23:01:24 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 23:01:24 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 16776 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 23:01:24 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 23:01:24 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 23:01:25 [main] INFO  : Finished Spring Data repository scanning in 86 ms. Found 4 JPA repository interfaces.
2024-10-13 23:01:25 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 23:01:25 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 23:01:25 [main] INFO  : Starting service [Tomcat]
2024-10-13 23:01:25 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 23:01:25 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 23:01:25 [main] INFO  : Root WebApplicationContext: initialization completed in 1183 ms
2024-10-13 23:01:25 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 23:01:25 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 23:01:25 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 23:01:25 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 23:01:26 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 23:01:26 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 23:01:26 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5b86f4cb
2024-10-13 23:01:26 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 23:01:26 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 23:01:26 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 23:01:26 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 23:01:27 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 23:01:27 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 23:01:27 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 23:01:27 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 23:01:28 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 23:01:28 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 23:01:28 [main] INFO  : Started ShoppingListServiceApplication in 3.986 seconds (process running for 4.388)
2024-10-13 23:01:28 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 23:01:28 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 23:01:28 [RMI TCP Connection(2)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 23:01:42 [tomcat-handler-4] INFO  : New session connected: 2376cc9a-6688-cdc9-9df0-c31f3ee0a449, user: Jerzynki
2024-10-13 23:01:42 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 23:01:43 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 23:01:44 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 23:01:45 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:00:15.875333500\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","PARA":"Jerzynki;","ID":"2376cc9a-6688-cdc9-9df0-c31f3ee0a449","DEST":"/synchronizeData"}}
2024-10-13 23:01:56 [tomcat-handler-11] INFO  : New session connected: e3c4bbf7-f592-c1c7-1d7c-332f4808436b, user: Jerzynki
2024-10-13 23:01:56 [tomcat-handler-12] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 23:01:56 [tomcat-handler-13] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip","PARA":"Jerzynki;"}}
2024-10-13 23:01:56 [tomcat-handler-14] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData","PARA":""}}
2024-10-13 23:01:56 [tomcat-handler-15] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"e3c4bbf7-f592-c1c7-1d7c-332f4808436b","DEST":"/synchronizeData","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:01:06.948720500\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}"}}
2024-10-13 23:01:58 [tomcat-handler-16] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:01:45.022400100\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"UPDATE\",\"shoppingItemId\":163}]}","PARA":"Jerzynki;","ID":"2376cc9a-6688-cdc9-9df0-c31f3ee0a449","DEST":"/synchronizeData"}}
2024-10-13 23:01:58 [tomcat-handler-17] INFO  : Session closing: e3c4bbf7-f592-c1c7-1d7c-332f4808436b - reason: Unable to unwrap data, invalid status [CLOSED]
2024-10-13 23:02:06 [tomcat-handler-23] INFO  : New session connected: 332d3675-9594-2ce5-0fe6-8838c27fe9a8, user: Jerzynki
2024-10-13 23:02:06 [tomcat-handler-24] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 23:02:06 [tomcat-handler-25] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip","PARA":"Jerzynki;"}}
2024-10-13 23:02:06 [tomcat-handler-26] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData","PARA":""}}
2024-10-13 23:02:06 [tomcat-handler-28] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"332d3675-9594-2ce5-0fe6-8838c27fe9a8","DEST":"/synchronizeData","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:01:56.152048800\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}"}}
2024-10-13 23:02:07 [tomcat-handler-29] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"332d3675-9594-2ce5-0fe6-8838c27fe9a8","DEST":"/synchronizeData","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:02:06.491520500\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"UPDATE\",\"shoppingItemId\":163}]}"}}
2024-10-13 23:02:46 [HikariPool-1 housekeeper] WARN  : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=49s715ms241µs100ns).
2024-10-13 23:02:46 [tomcat-handler-29] INFO  : Session closing: 332d3675-9594-2ce5-0fe6-8838c27fe9a8 - reason: null
2024-10-13 23:02:46 [tomcat-handler-30] INFO  : Session closing: 2376cc9a-6688-cdc9-9df0-c31f3ee0a449 - reason: null
2024-10-13 23:03:01 [tomcat-handler-36] INFO  : New session connected: ddb5bc55-71b2-3430-cb4d-c7b666c4be21, user: Jerzynki
2024-10-13 23:03:01 [tomcat-handler-37] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 23:03:01 [tomcat-handler-38] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip","PARA":"Jerzynki;"}}
2024-10-13 23:03:01 [tomcat-handler-39] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData","PARA":""}}
2024-10-13 23:03:01 [tomcat-handler-40] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"ddb5bc55-71b2-3430-cb4d-c7b666c4be21","DEST":"/synchronizeData","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:02:07.929109500\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}"}}
2024-10-13 23:03:11 [tomcat-handler-46] INFO  : New session connected: 013d9097-5c25-1671-f68d-c2be99e11368, user: Jerzynki
2024-10-13 23:03:11 [tomcat-handler-47] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 23:03:11 [tomcat-handler-48] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 23:03:11 [tomcat-handler-48] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 23:03:11 [tomcat-handler-49] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:01:58.902246800\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData","ID":"013d9097-5c25-1671-f68d-c2be99e11368"}}
2024-10-13 23:03:13 [tomcat-handler-50] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"ddb5bc55-71b2-3430-cb4d-c7b666c4be21","DEST":"/synchronizeData","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:03:01.839927400\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"UPDATE\",\"shoppingItemId\":163}]}"}}
2024-10-13 23:03:18 [tomcat-handler-56] ERROR : Jerzynki: 
pl.kamjer.shoppinglistservice.exception.LogException: null
	at .checkState(Preconditions.java:215)
	at .show(Toast.java:199)
	at .createToast(GenericActivity.java:25)
	at .lambda$onCreate$2(InitializerActivity.java:59)
	at .$r8$lambda$-PKGCsVqn3UzxjR206HDVVYtlYg(:0)
	at .action(D8$$SyntheticClass:0)
	at .lambda$initializeOnMessageAction$13(CustomViewModel.java:199)
	at .run(D8$$SyntheticClass:0)
	at .handleCallback(Handler.java:958)
	at .dispatchMessage(Handler.java:99)
	at .loopOnce(Looper.java:205)
	at .loop(Looper.java:294)
	at .main(ActivityThread.java:8177)
	at .invoke(Native Method)
	at .run(RuntimeInit.java:552)
	at .main(ZygoteInit.java:971)
2024-10-13 23:04:17 [tomcat-handler-57] INFO  : Session closing: 013d9097-5c25-1671-f68d-c2be99e11368 - reason: null
2024-10-13 23:04:18 [tomcat-handler-58] INFO  : Session closing: ddb5bc55-71b2-3430-cb4d-c7b666c4be21 - reason: null
2024-10-13 23:04:24 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 23:04:24 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 23:04:24 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 23:04:29 [background-preinit] INFO  : HV000001: Hibernate Validator 8.0.1.Final
2024-10-13 23:04:29 [main] INFO  : Starting ShoppingListServiceApplication using Java 21.0.2 with PID 2560 (C:\Users\kjerz\Desktop\projekty\ShoppingListService\target\classes started by kjerz in C:\Users\kjerz\Desktop\projekty\ShoppingListService)
2024-10-13 23:04:29 [main] INFO  : No active profile set, falling back to 1 default profile: "default"
2024-10-13 23:04:29 [main] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-10-13 23:04:29 [main] INFO  : Finished Spring Data repository scanning in 92 ms. Found 4 JPA repository interfaces.
2024-10-13 23:04:30 [main] INFO  : Tomcat initialized with port 443 (https)
2024-10-13 23:04:30 [main] INFO  : Initializing ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 23:04:30 [main] INFO  : Starting service [Tomcat]
2024-10-13 23:04:30 [main] INFO  : Starting Servlet engine: [Apache Tomcat/10.1.25]
2024-10-13 23:04:30 [main] INFO  : Initializing Spring embedded WebApplicationContext
2024-10-13 23:04:30 [main] INFO  : Root WebApplicationContext: initialization completed in 1183 ms
2024-10-13 23:04:30 [main] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-10-13 23:04:30 [main] INFO  : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-10-13 23:04:30 [main] INFO  : HHH000026: Second-level cache disabled
2024-10-13 23:04:30 [main] INFO  : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-10-13 23:04:30 [main] WARN  : HikariPool-1 - idleTimeout has been set but has no effect because the pool is operating as a fixed size pool.
2024-10-13 23:04:30 [main] INFO  : HikariPool-1 - Starting...
2024-10-13 23:04:31 [main] INFO  : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@46051269
2024-10-13 23:04:31 [main] INFO  : HikariPool-1 - Start completed.
2024-10-13 23:04:31 [main] WARN  : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-10-13 23:04:31 [main] INFO  : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-10-13 23:04:31 [main] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 23:04:32 [main] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-10-13 23:04:32 [main] INFO  : Global AuthenticationManager configured with UserDetailsService bean with name userDetailService
2024-10-13 23:04:32 [main] INFO  : Exposing 1 endpoint beneath base path '/actuator'
2024-10-13 23:04:32 [main] INFO  : Starting ProtocolHandler ["https-jsse-nio-0.0.0.0-443"]
2024-10-13 23:04:32 [main] INFO  : Connector [https-jsse-nio-0.0.0.0-443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from keystore [C:\Users\kjerz\.keystore] using alias [shoppingListKey] with trust store [null]
2024-10-13 23:04:32 [main] INFO  : Tomcat started on port 443 (https) with context path '/'
2024-10-13 23:04:32 [main] INFO  : Started ShoppingListServiceApplication in 3.916 seconds (process running for 4.31)
2024-10-13 23:04:33 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-13 23:04:33 [RMI TCP Connection(2)-192.168.0.13] INFO  : Initializing Servlet 'dispatcherServlet'
2024-10-13 23:04:33 [RMI TCP Connection(2)-192.168.0.13] INFO  : Completed initialization in 1 ms
2024-10-13 23:04:41 [tomcat-handler-4] INFO  : New session connected: 04247840-3113-7ca1-a71e-aaad2434f591, user: Jerzynki
2024-10-13 23:04:41 [tomcat-handler-5] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 23:04:41 [tomcat-handler-6] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 23:04:41 [tomcat-handler-7] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 23:04:41 [tomcat-handler-9] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:03:11.296859300\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData"}}
2024-10-13 23:04:56 [tomcat-handler-15] INFO  : New session connected: 2db6530d-6e26-c32e-1748-65e5c5ddc49c, user: Jerzynki
2024-10-13 23:04:56 [tomcat-handler-16] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 23:04:56 [tomcat-handler-17] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/{username}/pip","PARA":"Jerzynki;"}}
2024-10-13 23:04:56 [tomcat-handler-18] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"DEST":"/synchronizeData","PARA":""}}
2024-10-13 23:04:56 [tomcat-handler-19] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:03:13.201425600\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:05:00 [tomcat-handler-20] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:04:56.226729500\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"UPDATE\",\"shoppingItemId\":163}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:05:00 [tomcat-handler-21] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:04:41.511480600\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData"}}
2024-10-13 23:05:00 [tomcat-handler-21] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:04:41.511480600\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData"}}
2024-10-13 23:05:03 [tomcat-handler-23] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:00.801258\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"UPDATE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData"}}
2024-10-13 23:05:03 [tomcat-handler-24] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:00.688713400\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:05:04 [tomcat-handler-24] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:00.688713400\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:05:05 [tomcat-handler-25] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:04.029741400\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"UPDATE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:05:05 [tomcat-handler-27] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:03.928733400\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData"}}
2024-10-13 23:05:05 [tomcat-handler-27] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:03.928733400\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData"}}
2024-10-13 23:05:16 [tomcat-handler-28] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:05.677723800\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163},{\"amount\":2.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":256,\"itemName\":\"re\",\"localAmountTypeId\":1,\"localCategoryId\":2,\"localId\":15,\"modifyState\":\"INSERT\",\"shoppingItemId\":0}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:05:16 [tomcat-handler-29] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:05.786723700\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData"}}
2024-10-13 23:05:16 [tomcat-handler-29] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":36,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:05.786723700\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163}]}","DEST":"/synchronizeData"}}
2024-10-13 23:05:28 [tomcat-handler-30] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":true,\"localId\":36,\"modifyState\":\"DELETE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:16.406370300\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163},{\"amount\":2.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":256,\"itemName\":\"re\",\"localAmountTypeId\":7,\"localCategoryId\":37,\"localId\":23,\"modifyState\":\"NONE\",\"shoppingItemId\":202}]}","DEST":"/synchronizeData"}}
2024-10-13 23:05:28 [tomcat-handler-31] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:16.299369800\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163},{\"amount\":2.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":256,\"itemName\":\"re\",\"localAmountTypeId\":1,\"localCategoryId\":2,\"localId\":15,\"modifyState\":\"NONE\",\"shoppingItemId\":202}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:05:28 [tomcat-handler-31] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":255,\"categoryName\":\"resr\",\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:16.299369800\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"NONE\",\"shoppingItemId\":163},{\"amount\":2.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":256,\"itemName\":\"re\",\"localAmountTypeId\":1,\"localCategoryId\":2,\"localId\":15,\"modifyState\":\"NONE\",\"shoppingItemId\":202}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:05:36 [tomcat-handler-32] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":true,\"localId\":1,\"modifyState\":\"DELETE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:28.584965100\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":true,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":1,\"modifyState\":\"DELETE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":true,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":9,\"modifyState\":\"DELETE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":true,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":12,\"modifyState\":\"DELETE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":true,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":13,\"modifyState\":\"DELETE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":true,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":1,\"localCategoryId\":1,\"localId\":14,\"modifyState\":\"DELETE\",\"shoppingItemId\":163},{\"amount\":2.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":256,\"itemName\":\"re\",\"localAmountTypeId\":1,\"localCategoryId\":2,\"localId\":15,\"modifyState\":\"NONE\",\"shoppingItemId\":202}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:05:36 [tomcat-handler-34] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:28.509973100\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163},{\"amount\":2.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":256,\"itemName\":\"re\",\"localAmountTypeId\":7,\"localCategoryId\":37,\"localId\":23,\"modifyState\":\"NONE\",\"shoppingItemId\":202}]}","DEST":"/synchronizeData"}}
2024-10-13 23:05:36 [tomcat-handler-34] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":254,\"categoryName\":\"WARZYWA\",\"deleted\":false,\"localId\":35,\"modifyState\":\"NONE\"},{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:28.509973100\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"TEST\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":18,\"modifyState\":\"NONE\",\"shoppingItemId\":52},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":19,\"modifyState\":\"NONE\",\"shoppingItemId\":158},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"d\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":20,\"modifyState\":\"NONE\",\"shoppingItemId\":161},{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"a\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":21,\"modifyState\":\"NONE\",\"shoppingItemId\":162},{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":254,\"itemName\":\"2\",\"localAmountTypeId\":7,\"localCategoryId\":35,\"localId\":22,\"modifyState\":\"NONE\",\"shoppingItemId\":163},{\"amount\":2.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":256,\"itemName\":\"re\",\"localAmountTypeId\":7,\"localCategoryId\":37,\"localId\":23,\"modifyState\":\"NONE\",\"shoppingItemId\":202}]}","DEST":"/synchronizeData"}}
2024-10-13 23:05:36 [tomcat-handler-40] ERROR : Jerzynki: 
pl.kamjer.shoppinglistservice.exception.LogException: null
	at .lambda$getLocalCategoryIdForShoppingItem$12(UtilDao.java:187)
	at .get(D8$$SyntheticClass:0)
	at .orElseThrow(Optional.java:286)
	at .getLocalCategoryIdForShoppingItem(UtilDao.java:187)
	at .lambda$deleteAllElements$3(UtilDao.java:106)
	at .$r8$lambda$-cAr8B97pptReqTxyMS0iIgsuSI(:0)
	at .accept(D8$$SyntheticClass:0)
	at .forEach(ArrayList.java:1262)
	at .deleteAllElements(UtilDao.java:104)
	at .deleteAllElements(UtilDao_Impl.java:465)
	at .synchronizeData(UtilDao.java:164)
	at .synchronizeData(UtilDao_Impl.java:491)
	at .lambda$synchronizeData$15(ShoppingRepository.java:245)
	at .$r8$lambda$HaMGGV9Zywo81FSGNy5kBUmwUhk(:0)
	at .run(D8$$SyntheticClass:0)
	at .runWorker(ThreadPoolExecutor.java:1167)
	at .run(ThreadPoolExecutor.java:641)
	at .run(Thread.java:919)
2024-10-13 23:08:21 [tomcat-handler-42] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":37,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:36.448123500\",\"shoppingItemDtoList\":[{\"amount\":2.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":256,\"itemName\":\"re\",\"localAmountTypeId\":7,\"localCategoryId\":37,\"localId\":23,\"modifyState\":\"UPDATE\",\"shoppingItemId\":202}]}","DEST":"/synchronizeData"}}
2024-10-13 23:08:21 [tomcat-handler-43] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:36.401124600\",\"shoppingItemDtoList\":[{\"amount\":2.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":256,\"itemName\":\"re\",\"localAmountTypeId\":1,\"localCategoryId\":2,\"localId\":15,\"modifyState\":\"NONE\",\"shoppingItemId\":202}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:08:21 [tomcat-handler-43] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:05:36.401124600\",\"shoppingItemDtoList\":[{\"amount\":2.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":256,\"itemName\":\"re\",\"localAmountTypeId\":1,\"localCategoryId\":2,\"localId\":15,\"modifyState\":\"NONE\",\"shoppingItemId\":202}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:08:23 [tomcat-handler-44] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":true,\"localId\":37,\"modifyState\":\"DELETE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:08:21.171004600\",\"shoppingItemDtoList\":[{\"amount\":2.0,\"bought\":true,\"deleted\":true,\"itemAmountTypeId\":1,\"itemCategoryId\":256,\"itemName\":\"re\",\"localAmountTypeId\":7,\"localCategoryId\":37,\"localId\":23,\"modifyState\":\"DELETE\",\"shoppingItemId\":202}]}","DEST":"/synchronizeData"}}
2024-10-13 23:08:23 [tomcat-handler-45] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:08:21.215006400\",\"shoppingItemDtoList\":[{\"amount\":2.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":256,\"itemName\":\"re\",\"localAmountTypeId\":1,\"localCategoryId\":2,\"localId\":15,\"modifyState\":\"NONE\",\"shoppingItemId\":202}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:08:23 [tomcat-handler-45] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":256,\"categoryName\":\"OWOCE\",\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\"},{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:08:21.215006400\",\"shoppingItemDtoList\":[{\"amount\":2.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":256,\"itemName\":\"re\",\"localAmountTypeId\":1,\"localCategoryId\":2,\"localId\":15,\"modifyState\":\"NONE\",\"shoppingItemId\":202}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:08:23 [tomcat-handler-51] ERROR : Jerzynki: 
pl.kamjer.shoppinglistservice.exception.LogException: null
	at .lambda$getLocalCategoryIdForShoppingItem$12(UtilDao.java:187)
	at .get(D8$$SyntheticClass:0)
	at .orElseThrow(Optional.java:404)
	at .getLocalCategoryIdForShoppingItem(UtilDao.java:187)
	at .lambda$deleteAllElements$3(UtilDao.java:106)
	at .$r8$lambda$-cAr8B97pptReqTxyMS0iIgsuSI(:0)
	at .accept(D8$$SyntheticClass:0)
	at .forEach(ArrayList.java:1528)
	at .deleteAllElements(UtilDao.java:104)
	at .deleteAllElements(UtilDao_Impl.java:465)
	at .synchronizeData(UtilDao.java:164)
	at .synchronizeData(UtilDao_Impl.java:491)
	at .lambda$synchronizeData$15(ShoppingRepository.java:245)
	at .$r8$lambda$HaMGGV9Zywo81FSGNy5kBUmwUhk(:0)
	at .run(D8$$SyntheticClass:0)
	at .runWorker(ThreadPoolExecutor.java:1145)
	at .run(ThreadPoolExecutor.java:644)
	at .run(Thread.java:1012)
2024-10-13 23:08:51 [tomcat-handler-52] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"},{\"categoryId\":0,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":39,\"modifyState\":\"INSERT\"}],\"savedTime\":\"2024-10-13T23:08:23.100449700\",\"shoppingItemDtoList\":[]}","DEST":"/synchronizeData"}}
2024-10-13 23:08:51 [tomcat-handler-53] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:08:23.126048\",\"shoppingItemDtoList\":[]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:08:51 [tomcat-handler-53] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:08:23.126048\",\"shoppingItemDtoList\":[]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:08:55 [tomcat-handler-54] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":39,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:08:51.118883700\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":7,\"localCategoryId\":39,\"localId\":24,\"modifyState\":\"INSERT\",\"shoppingItemId\":0}]}","DEST":"/synchronizeData"}}
2024-10-13 23:08:55 [tomcat-handler-55] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:08:51.160884100\",\"shoppingItemDtoList\":[]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:08:55 [tomcat-handler-55] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:08:51.160884100\",\"shoppingItemDtoList\":[]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:10 [tomcat-handler-56] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":39,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:08:55.196658300\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":7,\"localCategoryId\":39,\"localId\":24,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":7,\"localCategoryId\":38,\"localId\":25,\"modifyState\":\"INSERT\",\"shoppingItemId\":0}]}","DEST":"/synchronizeData"}}
2024-10-13 23:09:10 [tomcat-handler-57] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:08:55.231165900\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:10 [tomcat-handler-57] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:08:55.231165900\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:19 [tomcat-handler-58] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":0,\"deleted\":false,\"localId\":9,\"modifyState\":\"INSERT\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":39,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:10.420680800\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":7,\"localCategoryId\":39,\"localId\":24,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":7,\"localCategoryId\":38,\"localId\":25,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","DEST":"/synchronizeData"}}
2024-10-13 23:09:19 [tomcat-handler-59] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:10.461683100\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:19 [tomcat-handler-59] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:10.461683100\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:26 [tomcat-handler-61] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":9,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":39,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:19.515673300\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":7,\"localCategoryId\":39,\"localId\":24,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":7,\"localCategoryId\":38,\"localId\":25,\"modifyState\":\"UPDATE\",\"shoppingItemId\":204}]}","DEST":"/synchronizeData"}}
2024-10-13 23:09:26 [tomcat-handler-62] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:19.568673100\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:26 [tomcat-handler-62] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:19.568673100\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:27 [tomcat-handler-63] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":9,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":39,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:26.359311400\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":7,\"localCategoryId\":39,\"localId\":24,\"modifyState\":\"UPDATE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":7,\"localCategoryId\":38,\"localId\":25,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","DEST":"/synchronizeData"}}
2024-10-13 23:09:27 [tomcat-handler-64] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:26.411311900\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:27 [tomcat-handler-64] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:26.411311900\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:28 [tomcat-handler-65] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"ID":"04247840-3113-7ca1-a71e-aaad2434f591","PARA":"Jerzynki;","BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":9,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":39,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:27.759332200\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":7,\"localCategoryId\":39,\"localId\":24,\"modifyState\":\"UPDATE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":7,\"localCategoryId\":38,\"localId\":25,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","DEST":"/synchronizeData"}}
2024-10-13 23:09:28 [tomcat-handler-66] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:27.841329300\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:28 [tomcat-handler-66] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:27.841329300\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:39 [tomcat-handler-67] INFO  : Session closing: 04247840-3113-7ca1-a71e-aaad2434f591 - reason: null
2024-10-13 23:09:46 [tomcat-handler-68] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:28.639114300\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"UPDATE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:50 [tomcat-handler-74] INFO  : New session connected: 180cda34-7d8e-70b6-3a63-303d0dae57ed, user: Jerzynki
2024-10-13 23:09:50 [tomcat-handler-75] INFO  : New message - user: Jerzynki /n {"command":"CONNECT","headers":{}}
2024-10-13 23:09:50 [tomcat-handler-76] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"Jerzynki;","DEST":"/{username}/pip"}}
2024-10-13 23:09:50 [tomcat-handler-76] INFO  : New message - user: Jerzynki /n {"command":"SUBSCRIBE","headers":{"PARA":"","DEST":"/synchronizeData"}}
2024-10-13 23:09:50 [tomcat-handler-77] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":9,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":39,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:28.590287300\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":7,\"localCategoryId\":39,\"localId\":24,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":7,\"localCategoryId\":38,\"localId\":25,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","PARA":"Jerzynki;","ID":"180cda34-7d8e-70b6-3a63-303d0dae57ed","DEST":"/synchronizeData"}}
2024-10-13 23:09:51 [tomcat-handler-78] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:46.464816900\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"UPDATE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:52 [tomcat-handler-79] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":9,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":39,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:50.081803900\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":7,\"localCategoryId\":39,\"localId\":24,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":7,\"localCategoryId\":38,\"localId\":25,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","PARA":"Jerzynki;","ID":"180cda34-7d8e-70b6-3a63-303d0dae57ed","DEST":"/synchronizeData"}}
2024-10-13 23:09:52 [tomcat-handler-79] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":9,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":39,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:50.081803900\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":7,\"localCategoryId\":39,\"localId\":24,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":7,\"localCategoryId\":38,\"localId\":25,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","PARA":"Jerzynki;","ID":"180cda34-7d8e-70b6-3a63-303d0dae57ed","DEST":"/synchronizeData"}}
2024-10-13 23:09:53 [tomcat-handler-80] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":9,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":39,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:52.023996800\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":7,\"localCategoryId\":39,\"localId\":24,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":7,\"localCategoryId\":38,\"localId\":25,\"modifyState\":\"UPDATE\",\"shoppingItemId\":204}]}","PARA":"Jerzynki;","ID":"180cda34-7d8e-70b6-3a63-303d0dae57ed","DEST":"/synchronizeData"}}
2024-10-13 23:09:53 [tomcat-handler-81] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:51.982995900\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:53 [tomcat-handler-81] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:51.982995900\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:54 [tomcat-handler-82] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":7,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":8,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":9,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":38,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":39,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:53.256731800\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":7,\"localCategoryId\":39,\"localId\":24,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":true,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":7,\"localCategoryId\":38,\"localId\":25,\"modifyState\":\"UPDATE\",\"shoppingItemId\":204}]}","PARA":"Jerzynki;","ID":"180cda34-7d8e-70b6-3a63-303d0dae57ed","DEST":"/synchronizeData"}}
2024-10-13 23:09:54 [tomcat-handler-83] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:53.317781300\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:09:54 [tomcat-handler-83] INFO  : New message - user: Jerzynki /n {"command":"MESSAGE","headers":{"BODY":"{\"amountTypeDtoList\":[{\"amountTypeId\":1,\"deleted\":false,\"localId\":1,\"modifyState\":\"NONE\",\"typeName\":\"kg\"},{\"amountTypeId\":2,\"deleted\":false,\"localId\":2,\"modifyState\":\"NONE\",\"typeName\":\"szt\"},{\"amountTypeId\":52,\"deleted\":false,\"localId\":3,\"modifyState\":\"NONE\",\"typeName\":\"op\"}],\"categoryDtoList\":[{\"categoryId\":302,\"categoryName\":\"warzywa\",\"deleted\":false,\"localId\":4,\"modifyState\":\"NONE\"},{\"categoryId\":352,\"categoryName\":\"owoce\",\"deleted\":false,\"localId\":5,\"modifyState\":\"NONE\"}],\"savedTime\":\"2024-10-13T23:09:53.317781300\",\"shoppingItemDtoList\":[{\"amount\":1.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":352,\"itemName\":\"asd\",\"localAmountTypeId\":1,\"localCategoryId\":5,\"localId\":16,\"modifyState\":\"NONE\",\"shoppingItemId\":203},{\"amount\":12.0,\"bought\":false,\"deleted\":false,\"itemAmountTypeId\":1,\"itemCategoryId\":302,\"itemName\":\"testr\",\"localAmountTypeId\":1,\"localCategoryId\":4,\"localId\":17,\"modifyState\":\"NONE\",\"shoppingItemId\":204}]}","ID":"2db6530d-6e26-c32e-1748-65e5c5ddc49c","DEST":"/synchronizeData","PARA":"Jerzynki;"}}
2024-10-13 23:37:40 [SpringApplicationShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-10-13 23:37:40 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown initiated...
2024-10-13 23:37:40 [SpringApplicationShutdownHook] INFO  : HikariPool-1 - Shutdown completed.
2024-10-13 23:37:40 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=180cda34-7d8e-70b6-3a63-303d0dae57ed, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:117)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:56)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 23:37:40 [SpringApplicationShutdownHook] INFO  : Session closing: 180cda34-7d8e-70b6-3a63-303d0dae57ed - reason: The web application is stopping
2024-10-13 23:37:40 [SpringApplicationShutdownHook] ERROR : Closing session due to exception for StandardWebSocketSession[id=2db6530d-6e26-c32e-1748-65e5c5ddc49c, uri=wss://192.168.0.13/ws]
java.lang.IllegalStateException: Message will not be sent because the WebSocket session has been closed
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:455)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250)
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223)
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217)
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108)
	at pl.kamjer.shoppinglistservice.config.websocket.ConnectionBroker.handleException(ConnectionBroker.java:117)
	at pl.kamjer.shoppinglistservice.config.websocket.WebSocketHandler.handleTransportError(WebSocketHandler.java:56)
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleTransportError(WebSocketHandlerDecorator.java:80)
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleTransportError(LoggingWebSocketHandlerDecorator.java:64)
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleTransportError(ExceptionWebSocketHandlerDecorator.java:68)
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onError(StandardWebSocketHandlerAdapter.java:156)
	at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:804)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:589)
	at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:556)
	at org.apache.tomcat.websocket.WsSession.close(WsSession.java:544)
	at org.apache.tomcat.websocket.WsWebSocketContainer.destroy(WsWebSocketContainer.java:1024)
	at org.apache.tomcat.websocket.server.WsContextListener.contextDestroyed(WsContextListener.java:46)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4041)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:4650)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1219)
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1208)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:814)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:471)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:919)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:231)
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:447)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:301)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.destroy(TomcatWebServer.java:374)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:177)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1093)
	at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-10-13 23:37:40 [SpringApplicationShutdownHook] INFO  : Session closing: 2db6530d-6e26-c32e-1748-65e5c5ddc49c - reason: The web application is stopping
